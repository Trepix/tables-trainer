<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matriz de Combinaciones de Cartas</title>

    <style>
        body {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif
        }

        .container {
            display: grid;
            grid-template-columns: auto 100px;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .grid-table {
            display: grid;
            grid-template-columns: repeat(5, 100px);
            /* Ejemplo de una tabla de 5 columnas */
            gap: 10px;
            background-color: #f1f1f1;
            padding: 10px;
        }

        .study-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
            /* Espacio entre los botones */
        }

        .title {
            text-align: center;
        }

        .matrix {
            display: grid;
            grid-template-columns: repeat(13, 1fr);
            gap: 1px;
            /* Espacio uniforme entre filas y columnas */
            margin: auto;
            margin-top: 20px;
            width: 700px;
        }

        .card-cell {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
            user-select: none;
        }

        .suited,
        .offsuit,
        .pair {
            background-color: white;
            /* Se mantiene blanco hasta hacer clic */
        }

        .paint {
            background-color: var(--background-color);
            font-weight: bold;
        }

        #hand {
            cursor: pointer;
            user-select: none;
            margin-bottom: 0em;
        }
    </style>
</head>

<body>

    <div>
        <h1 class="title">Matriz de Combinaciones de Cartas</h1>
        <div class="container">
            <div class="matrix" id="cardMatrix"></div>
            <div class="study-container">
                <p id="hand"></p>
                <button id="show-hand">solve</button>
                <div></div>
                <div></div>
                <button id="clear-all">clear</button>
                <button id="show-all">show</button>
            </div>
        </div>


    </div>

    <!-- JSON para definir los colores de las combinaciones -->
    <script>

        const preflopTable = new Map([
            ["AA", 20],
            ["AKs", 20],
            ["AQs", 20],
            ["AJs", 20],
            ["ATs", 20],
            ["A9s", 20],
            ["A8s", 20],
            ["A7s", 20],
            ["A6s", 20],
            ["A5s", 20],
            ["A4s", 20],
            ["A3s", 20],
            ["A2s", 20],
            ["AKo", 20],
            ["KK", 20],
            ["KQs", 20],
            ["KJs", 20],
            ["KTs", 20],
            ["K9s", 20],
            ["K8s", 20],
            ["K7s", 20],
            ["K6s", 20],
            ["K5s", 20],
            ["K4s", 20],
            ["K3s", 19.9],
            ["K2s", 19.3],
            ["AQo", 20],
            ["KQo", 20],
            ["QQ", 20],
            ["QJs", 20],
            ["QTs", 20],
            ["Q9s", 20],
            ["Q8s", 20],
            ["Q7s", 20],
            ["Q6s", 20],
            ["Q5s", 20],
            ["Q4s", 16.3],
            ["Q3s", 13.5],
            ["Q2s", 12.7],
            ["AJo", 20],
            ["KJo", 20],
            ["QJo", 20],
            ["JJ", 20],
            ["JTs", 20],
            ["J9s", 20],
            ["J8s", 20],
            ["J7s", 18.6],
            ["J6s", 16.2],
            ["J5s", 13.5],
            ["J4s", 10.6],
            ["J3s", 10.6],
            ["J2s", 8.8],
            ["ATo", 20],
            ["KTo", 20],
            ["QTo", 20],
            ["JTo", 20],
            ["TT", 20],
            ["T9s", 20],
            ["T8s", 20],
            ["T7s", 20],
            ["T6s", 18.6],
            ["T5s", 16.2],
            ["T4s", 13.5],
            ["T3s", 10.6],
            ["T2s", 6.5],
            ["A9o", 20],
            ["K9o", 20],
            ["Q9o", 20],
            ["J9o", 20],
            ["T9o", 20],
            ["99", 20],
            ["98s", 20],
            ["97s", 20],
            ["96s", 20],
            ["95s", 14.4],
            ["94s", 6.9],
            ["93s", 4.9],
            ["92s", 3.7],
            ["A8o", 20],
            ["K8o", 18.6],
            ["Q8o", 13],
            ["J8o", 14.1],
            ["T8o", 18.4],
            ["98o", 20],
            ["88", 20],
            ["87s", 20],
            ["86s", 20],
            ["85s", 18.8],
            ["84s", 10.1],
            ["83s", 2.7],
            ["82s", 2.5],
            ["A7o", 20],
            ["K7o", 16.1],
            ["Q7o", 10.3],
            ["J7o", 8.5],
            ["T7o", 9.9],
            ["97o", 10.8],
            ["87o", 15.6],
            ["77", 20],
            ["76s", 20],
            ["75s", 20],
            ["74s", 13.9],
            ["73s", 2.5],
            ["72s", 2.1],
            ["A6o", 20],
            ["K6o", 15.3],
            ["Q6o", 9.8],
            ["J6o", 6.5],
            ["T6o", 5.7],
            ["96o", 5.2],
            ["86o", 7.1],
            ["76o", 11.2],
            ["66", 20],
            ["65s", 20],
            ["64s", 16.3],
            ["63s", 7.1],
            ["62s", 2],
            ["A5o", 20],
            ["K5o", 14.4],
            ["Q5o", 8.9],
            ["J5o", 6],
            ["T5o", 4.1],
            ["95o", 3.5],
            ["85o", 3],
            ["75o", 2.6],
            ["65o", 2.4],
            ["55", 20],
            ["54s", 20],
            ["53s", 12.9],
            ["52s", 2],
            ["A4o", 20],
            ["K4o", 13.1],
            ["Q4o", 8.3],
            ["J4o", 5.4],
            ["T4o", 3.8],
            ["94o", 2.7],
            ["84o", 2.3],
            ["74o", 2.1],
            ["64o", 2],
            ["54o", 2.1],
            ["44", 20],
            ["43s", 10],
            ["42s", 1.8],
            ["A3o", 20],
            ["K3o", 12.5],
            ["Q3o", 7.5],
            ["J3o", 5],
            ["T3o", 3.4],
            ["93o", 2.5],
            ["83o", 1.9],
            ["73o", 1.8],
            ["63o", 1.7],
            ["53o", 1.8],
            ["43o", 1.6],
            ["33", 20],
            ["32s", 1.7],
            ["A2o", 20],
            ["K2o", 11.6],
            ["Q2o", 7],
            ["J2o", 4.6],
            ["T2o", 3],
            ["92o", 2.2],
            ["82o", 1.8],
            ["72o", 1.6],
            ["62o", 1.5],
            ["52o", 1.5],
            ["42o", 1.4],
            ["32o", 1.4],
            ["22", 20]
        ]);


        function show(cell) {
            cell.classList.add("paint");
            cell.innerText = preflopTable.get(cell.id)
        }

        function clear(cell) {
            cell.classList.remove("paint");
            cell.innerText = text(cell.id)
        }

        document.addEventListener('DOMContentLoaded', function () {
            const cardMatrix = document.getElementById('cardMatrix');
            function getBBColor(bbValue) {
                // Asegurarnos de que el valor estÃ© entre 1 y 20
                if (bbValue >= 19.9) return 'hsl(120, 50%, 50%)'
                // if (bbValue >= 19) return `hsl(${bbValue * 4.5},60%, 60%)`
                // if (bbValue >= 16) return `hsl(${bbValue * 3.5},60%, 60%)`
                // if (bbValue >= 10) return `hsl(${bbValue * 3},60%, 60%)`
                return `hsl(${bbValue * 4},70%, 60%)`
            }

            function generateMatrix() {
                preflopTable.forEach((action, hand) => {
                    const cell = document.createElement('div');
                    cell.classList.add('card-cell');
                    cell.id = hand;
                    cell.innerText = text(hand)
                    const color = hand == text(hand) ? "lightblue" : getBBColor(preflopTable.get(cell.id))
                    cell.style.setProperty("--background-color", color)

                    cardMatrix.appendChild(cell);
                })
            };


            generateMatrix();

            document.getElementById('hand').innerText = generateHand()

            document.getElementById('hand').addEventListener('click', (e) => {
                clear(document.getElementById(e.target.innerText))
                document.getElementById('hand').innerText = generateHand()
            })

            document.getElementById('show-hand').addEventListener('click', (e) => {
                clearAll();
                show(document.getElementById(document.getElementById('hand').innerText))
            });


        });
    </script>
    <script type="text/javascript" src="./cards.js"></script>
    <script type="text/javascript" src="./paint-matrix.js"></script>

</body>

</html>